;/*FB_PKG_DELIM*/

__d("FBLynxBase",["$","LinkshimHandlerConfig","URI","cr:7736","isLinkshimURI"],(function(a,b,c,d,e,f){"use strict";var g;function h(a){if(!b("isLinkshimURI")(a))return null;a=a.getQueryData().u;return!a?null:a}var i={logAsyncClick:function(a){i.swapLinkWithUnshimmedLink(a);a=a.getAttribute("data-lynx-uri");if(!a)return;b("cr:7736").log(a)},originReferrerPolicyClick:function(a){var c=b("$")("meta_referrer");c.content=b("LinkshimHandlerConfig").switched_meta_referrer_policy;i.logAsyncClick(a);setTimeout(function(){c.content=b("LinkshimHandlerConfig").default_meta_referrer_policy},100)},swapLinkWithUnshimmedLink:function(a){var c=a.href,d=h(new(g||(g=b("URI")))(c));if(!d)return;a.setAttribute("data-lynx-uri",c);a.href=d},revertSwapIfLynxURIPresent:function(a){var b=a.getAttribute("data-lynx-uri");if(!b)return;a.removeAttribute("data-lynx-uri");a.href=b}};e.exports=i}),null);
__d("FBLynx",["Base64","Event","FBLynxBase","LinkshimHandlerConfig","Parent","URI"],(function(a,b,c,d,e,f){"use strict";var g,h=(g||(g=b("URI"))).goURIOnWindow,i={alreadySetup:!1,setupDelegation:function(a){a===void 0&&(a=!1);if(!document.documentElement)return;if(document.body==null){if(a)return;window.setTimeout(function(){i.setupDelegation(!0)},100);return}if(i.alreadySetup)return;i.alreadySetup=!0;var c=function(a){var c=i.getMaybeLynxLink(a.target);if(!c)return;var d=c[0];c=c[1];var e=c,f=new(g||(g=b("URI")))(c.href),j;if(b("LinkshimHandlerConfig").ghl_param_link_shim&&d!=="hover"&&(c.dataset&&c.dataset.attributes)){j=b("Base64").decodeObject(c.dataset.attributes);if(j&&j.open_link){var k;for(k in j)k!=="open_link"&&f.addQueryData(k,j[k]);k=c.cloneNode(!0);k.href=f.toString();e=k}}switch(d){case"async":case"asynclazy":b("FBLynxBase").logAsyncClick(e);break;case"origin":b("FBLynxBase").originReferrerPolicyClick(e);break;case"hover":i.hoverClick(e);break}b("LinkshimHandlerConfig").ghl_param_link_shim&&d!=="hover"&&j&&j.open_link&&(a.preventDefault(),h(f,window.open("",e.target),!0))};b("Event").listen(document.body,"click",c);b("LinkshimHandlerConfig").middle_click_requires_event&&b("Event").listen(document.body,"mouseup",function(a){a.button==1&&c(a)});b("Event").listen(document.body,"mouseover",function(a){a=i.getMaybeLynxLink(a.target);if(!a)return;var b=a[0];a=a[1];switch(b){case"async":case"asynclazy":case"origin":case"hover":i.mouseover(a);break}});b("Event").listen(document.body,"contextmenu",function(a){a=i.getMaybeLynxLink(a.target);if(!a)return;var b=a[0];a=a[1];switch(b){case"async":case"hover":case"origin":i.contextmenu(a);break;case"asynclazy":break}})},getMaybeLynxLink:function(a){a=b("Parent").byAttribute(a,"data-lynx-mode");if(a instanceof HTMLAnchorElement){var c=a.getAttribute("data-lynx-mode");switch(c){case"async":case"asynclazy":case"hover":case"origin":return[c,a];default:return null}}return null},hoverClick:function(a){b("FBLynxBase").revertSwapIfLynxURIPresent(a)},mouseover:function(a){b("FBLynxBase").swapLinkWithUnshimmedLink(a)},contextmenu:function(a){b("FBLynxBase").revertSwapIfLynxURIPresent(a)}};e.exports=i}),null);
__d("XLynxAsyncCallbackControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/si/linkclick/ajax_callback/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("FBLynxLogging",["AsyncRequest","ODS","XLynxAsyncCallbackControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=c("XLynxAsyncCallbackControllerRouteBuilder").buildURL({});new(c("AsyncRequest"))(b).setData({lynx_uri:a}).setErrorHandler(function(a){a=a.getError();(h||(h=d("ODS"))).bumpEntityKey(3861,"linkshim","click_log.post.fail."+a)}).setTransportErrorHandler(function(a){a=a.getError();(h||(h=d("ODS"))).bumpEntityKey(3861,"linkshim","click_log.post.transport_fail."+a)}).send()}g.log=a}),98);
__d("Week",["fbt","DateConsts","DateTime","Instant","Timezone","err"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1,j=53;a=function(){function a(a,b,e){if(a<d("Instant").wholeYearRangeInYears.since||a>d("Instant").wholeYearRangeInYears.until)throw c("err")("Invalid year: %s",a);this.$1=a;if(b<i||b>j)throw c("err")("Invalid week: %s",b);this.$2=b;this.$3=(e=e)!=null?e:d("Timezone").UTC;this.$4=c("DateTime").now(this.$3).setYear(a).startOfISOYear().addWeeks(b-1)}var b=a.prototype;b.getStartOfWeek=function(){return this.$4};b.getEndOfWeek=function(){return this.$4.add({day:6,hour:23,minute:59,second:59})};b.getPrevious=function(){return a.fromDateTime(this.$4.subtractWeeks(1))};b.getNext=function(){return a.fromDateTime(this.$4.addWeeks(1))};b.format=function(){var a=this.getEndOfWeek();return this.$4.getMonth()===a.getMonth()?h._("Week of {start date} \u2013 {end date}",[h._param("start date",this.$4.format("F j")),h._param("end date",a.format("j"))]):h._("Week of {start date} \u2013 {end date}",[h._param("start date",this.$4.format("F j")),h._param("end date",a.format("F j"))])};b.toISOString=function(){return this.$1+"W"+this.$2.toString().padStart(2,"0")};b.toString=function(){return this.toISOString()};b.toJSON=function(){return{year:this.$1,week:this.$2,timezoneID:this.$3}};b.getTimezoneID=function(){return this.$3};b.equals=function(a){return a!=null&&this.$4.getUnixTimestamp()===a.$4.getUnixTimestamp()};b.getWeek=function(){return this.$2};b.getYear=function(){return this.$1};a.fromISOString=function(a,b){var d=a.match(/^(?<year>\d{4})W(?<week>\d{2})$/);if(d==null||d.groups==null)throw c("err")('Invalid ISO string: "%s"',a);return new this(+d.groups.year,+d.groups.week,b)};a.fromISOStringLocal=function(b){return a.fromISOString(b,d("Timezone").getEnvironmentTimezoneID())};a.current=function(a){return this.fromDateTime(c("DateTime").now(a))};a.currentLocal=function(){return this.fromDateTime(c("DateTime").localNow())};a.fromDateTime=function(a){var b=a.startOfISOYear(),c=a.addYears(1).startOfISOYear(),e=b,f=a.getYear();a.isAfter(c)?(e=c,f++):a.isBefore(b)&&(e=a.subtractYears(1).startOfISOYear(),f--);c=a.startOfWeek(d("DateConsts").DAYS.MONDAY).instant-e.instant;b=Math.round(c/(d("DateConsts").SEC_PER_DAY*d("DateConsts").DAYS_PER_WEEK))+1;return new this(f,b,a.getTimezoneID())};a.fromTimestamp=function(a,b){return this.fromDateTime(c("DateTime").create(a,(a=b)!=null?a:d("Timezone").UTC))};a.fromTimestampLocal=function(a){return this.fromDateTime(c("DateTime").localCreate(a))};a.createLocal=function(a,b){return new this(a,b,d("Timezone").getEnvironmentTimezoneID())};return a}();g["default"]=a}),98);